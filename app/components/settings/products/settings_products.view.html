<div ng-show='products_settings.is_loaded'>
  <button ng-click='products_settings.addProduct()' md-ink-ripple class='panel-add-button md-btn md-fab m-b'>
    <i class='mdi mdi-plus i-24'></i>
  </button>

  <accordion class='products_tables' close-others='true'>
    <accordion-group ng-repeat='(day, day_data) in products_settings.data'
                     is-open='products_settings.opened[day]'
                     ng-click="products_settings.redrawSliders()">
      <accordion-heading>
        <div class='clearfix'>

            <table class='table no-margin head-table'>
              <col width='33%'>
              <col width='33%'>
              <col width='34%'>
              <thead>
                <th class="day-of-week">{{ day }}</th>
                <th class="nine-o-clock">{{ products_settings.Slider.from15Min(day_data.min_time) }}</th>
                <th class="twenty-four-o-clock">{{ products_settings.Slider.from15Min(day_data.max_time) }}</th>
              </thead>
            </table>


        </div>
      </accordion-heading>

      <form name='tables_form' ng-submit='products_settings.submitForm();'>
        <ul class='tables md-list no-padder no-margin'>
          <li class='table_item_li md-list-item clear'
              ng-repeat='(id, time_range) in day_data.time_ranges'>
            <div class='table_item_product pull-left m-t-sm'>
              {{ time_range.name }}
            </div>

            <div class='table_item_slider pull-left m-t-sm'>

              <rzslider
                rz-slider-model='time_range.minValue'
                rz-slider-high='time_range.maxValue'
                rz-slider-options='time_range.options'
                ng-click='products_settings.sliderChanged(id, time_range)'
              ></rzslider>

            </div>
            <div class='table_item_actions pull-left text-right'>
              <md-menu>
                <button md-ink-ripple
                      class='md-btn md-fab no-shadow'
                      ng-disabled='disabled'
                      aria-haspopup='true'
                      aria-expanded='false'
                      aria-disabled='false'
                      ng-click='$mdMenu.open($event)'>
                  <i class='mdi mdi-dots-vertical i-24'></i>
                </button>
                <md-menu-content width="4">

                  <md-menu-item>
                    <md-button ng-click='products_settings.closeToday(id, time_range)'
                               ng-if='!time_range.options.disabled'>Vandaag sluiten</md-button>
                    <md-button ng-click='products_settings.closeToday(id, time_range)'
                               ng-if='time_range.options.disabled'>Vandaag openen</md-button>
                  </md-menu-item>

                  <md-menu-item>
                    <md-button ng-click='products_settings.hidden(time_range.product_id)'
                               ng-if='!products_settings.products[time_range.product_id].shaded'>Verberg</md-button>
                    <md-button ng-click='products_settings.hidden(time_range.product_id)'
                               ng-if='products_settings.products[time_range.product_id].shaded'>Tonen</md-button>
                  </md-menu-item>

                  <md-menu-item>
                    <md-button ng-click='products_settings.showLimits(time_range.product_id)'>Productlimieten</md-button>
                  </md-menu-item>

                  <md-menu-item ng-if='products_settings.products[time_range.product_id]'>
                    <md-button ng-click='products_settings.editMinMax(products_settings.products[time_range.product_id])'>
                      Min/max personen ({{ products_settings.products[time_range.product_id].min_persons || '-' }}/{{ products_settings.products[time_range.product_id].max_persons || '-' }})
                    </md-button>
                  </md-menu-item>

                  <md-menu-item>
                    <md-button ng-click='products_settings.removeProduct(time_range.product_id)'
                               class='remove-button'>Product verwijderen</md-button>
                  </md-menu-item>
                </md-menu-content>
              </md-menu>
            </div>
          </li>
        </ul>
      </form>

    </accordion-group>
  </accordion>
</div>