<div class='col-lg-8 col-md-8 col-sm-8'>
  <div ng-if='ctrl.is_loaded'>
    <button ng-click='ctrl.addProduct()'
            md-ink-ripple
            class='panel-add-button md-btn md-fab m-b'>
      <i class='mdi mdi-plus i-24'></i>
    </button>

    <uib-accordion
      class='products_tables'
      close-others='true'>
      <div
        uib-accordion-group
        ng-repeat='(day, day_data) in ctrl.data'
        is-open='ctrl.opened[day]'
        ng-click="ctrl.redrawSliders()">
        <uib-accordion-heading>
          <div class='clearfix'>
            <table class='table no-margin head-table'>
              <col width='33%'>
              <col width='33%'>
              <col width='34%'>
              <thead>
                <th class="day-of-week">{{ 'weekdays.' + day | translate }}</th>
                <th class="nine-o-clock">{{ ctrl.Slider.from15Min(day_data.min_time) }}</th>
                <th class="twenty-four-o-clock">{{ ctrl.Slider.from15Min(day_data.max_time) }}</th>
              </thead>
            </table>
          </div>
        </uib-accordion-heading>

        <form name='tables_form' ng-submit='ctrl.submitForm();'>
          <ul class='tables md-list no-padder no-margin'>
            <li class='table_item_li md-list-item clear'
                ng-repeat='(id, time_range) in day_data.time_ranges'>
              <div class='table_item_product pull-left m-t-sm'>
                {{ time_range.name }}
              </div>

              <div class='table_item_slider pull-left m-t-sm'>

                <rzslider
                  rz-slider-model='time_range.minValue'
                  rz-slider-high='time_range.maxValue'
                  rz-slider-options='time_range.options'
                  ng-click='ctrl.sliderChanged(id, time_range)'
                ></rzslider>

              </div>
              <div class='table_item_actions pull-left text-right'>
                <md-menu>
                  <button md-ink-ripple
                        class='md-btn md-fab no-shadow'
                        ng-disabled='disabled'
                        aria-haspopup='true'
                        aria-expanded='false'
                        aria-disabled='false'
                        ng-click='$mdMenu.open($event)'>
                    <i class='mdi mdi-dots-vertical i-24'></i>
                  </button>
                  <md-menu-content width="4">

                    <md-menu-item>
                      <md-button ng-click='ctrl.closeToday(id, time_range)'
                                 ng-if='!time_range.options.disabled'>
                        {{ 'settings.products.close_today' | translate }}
                      </md-button>
                      <md-button ng-click='ctrl.closeToday(id, time_range)'
                                 ng-if='time_range.options.disabled'>
                        {{ 'settings.products.open_today' | translate }}
                      </md-button>
                    </md-menu-item>

                    <md-menu-item>
                      <md-button ng-click='ctrl.hidden(time_range.product_id)'
                                 ng-if='!ctrl.products[time_range.product_id].shaded'>
                        {{ 'settings.products.hide' | translate }}
                      </md-button>
                      <md-button ng-click='ctrl.hidden(time_range.product_id)'
                                 ng-if='ctrl.products[time_range.product_id].shaded'>
                        {{ 'settings.products.show' | translate }}
                      </md-button>
                    </md-menu-item>

                    <md-menu-item>
                      <md-button ng-click='ctrl.showLimits(time_range.product_id)'>Productlimieten</md-button>
                    </md-menu-item>

                    <md-menu-item ng-if='ctrl.products[time_range.product_id]'>
                      <md-button ng-click='ctrl.editMinMax(ctrl.products[time_range.product_id])'>
                        Min/max personen ({{ ctrl.products[time_range.product_id].min_persons || '-' }}/{{ ctrl.products[time_range.product_id].max_persons || '-' }})
                      </md-button>
                    </md-menu-item>

                    <md-menu-item>
                      <md-button ng-click='ctrl.removeProduct(time_range.product_id)'
                                 class='remove-button'>
                        {{ 'settings.products.remove' | translate }}
                      </md-button>
                    </md-menu-item>
                  </md-menu-content>
                </md-menu>
              </div>
            </li>
          </ul>
        </form>

      </div>
    </uib-accordion>
  </div>

  <div ng-if='!ctrl.is_loaded'>
    <button class='panel-add-button md-btn md-fab m-b'>
      <i class='mdi mdi-plus i-24'></i>
    </button>
    <div class='panel'>
      <md-list class='no-padder'>
        <md-list-item class='md-no-proxy'>
          <fix-settings-item></fix-settings-item>
        </md-list-item>
        <md-list-item class='md-no-proxy'>
          <fix-settings-item></fix-settings-item>
        </md-list-item>
        <md-list-item class='md-no-proxy'>
          <fix-settings-item></fix-settings-item>
        </md-list-item>
        <md-list-item class='md-no-proxy'>
          <fix-settings-item></fix-settings-item>
        </md-list-item>
        <md-list-item class='md-no-proxy'>
          <fix-settings-item></fix-settings-item>
        </md-list-item>
        <md-list-item class='md-no-proxy'>
          <fix-settings-item></fix-settings-item>
        </md-list-item>
      </md-list>
    </div>
  </div>
</div>
<div class='col-lg-4 col-md-4 col-sm-4'>
  <settings-menu></settings-menu>
</div>