<section class='no-margin new_item_wrapper'>
  <md-toolbar>
    <div class='md-toolbar-tools'>
      <h2 md-truncate flex>
        <i class='mdi mdi-arrow-left m-r-sm'
           ng-click='ctrl.tabIndex=0'
           ng-if="ctrl.tabIndex==1"></i>
        {{ 'settings.products.add_title' | translate }}
      </h2>
      <md-button md-no-ink class="md-icon-button" ng-click='ctrl.closeModal();'>
        <i class='mdi mdi-close m-r-sm i-24'></i>
      </md-button>
    </div>
  </md-toolbar>
  <md-content>

  <md-tabs class='product_tabs'
           flex
           md-selected='ctrl.tabIndex'
           md-no-pagination
           md-stretch-tabs
           md-dynamic-height>
    <md-tab>
      <md-tab-body>
        <div class='md-content-submit select-product-wrapper b-t' flex>
          <div class='md-list-item'>
            <div class='md-list-item-content text-center'>
              <h4 translate='settings.products.what_kind'></h4>
            </div>
          </div>
          <div class='settings_add_items'>
            <div class='clearfix'>
              <label ng-repeat="(product, className) in ctrl.iconsClasses"
                ng-class="{ 'disabled': ctrl.productsNames().includes(product) }"
                ng-click='ctrl.changeClass(className)'
                class='box'
                ng-model='ctrl.item.name'
                uib-uncheckable
                uib-btn-radio='product'>
                <i class='box_active_icon mdi mdi-check'></i>
                <i class='box_icon mdi {{ ctrl.iconsClasses[product] }}'></i>
                <p class='no-margin'>
                  {{ product }}
                </p>
              </label>
            </div>
          </div>

          <div class='m-l-sm'>
            <form name="new_product_form">
            <button
                  ng-hide='ctrl.add_name_is_opened'
                  class='md-btn md-flat btn-fw m-t-md m-l-xs text-success'
                  ng-click='ctrl.add_name_is_opened = true;'>
              <i class='mdi mdi-plus-circle-outline'></i>
              <translate class='uppercase'>{{ 'add_name' | translate }}</translate>
            </button>

            <md-input-container class='m-l-sm' ng-show='ctrl.add_name_is_opened'>
              <label translate='add_name'></label>
              <input ng-model='ctrl.item.name' required />
            </md-input-container>

            <md-input-container ng-show="ctrl.add_name_is_opened" class="m-t-n-s">
              <label translate='icon'></label>
              <md-select ng-model="ctrl.item.icon_class" required>
                <md-option ng-repeat="icon_class in ctrl.uniqIcons" ng-value="icon_class">
                  <i class="mdi {{ icon_class }} i-24"></i>
                </md-option>
              </md-select>
            </md-input-container>
            </form>
          </div>

          <button class='btn btn-lg btn-success text-success no-top-radius md-content-button'
                  ng-class="{ 'disabled': !new_product_form.$valid }"
                  ng-click='ctrl.selectProduct();ctrl.tabIndex=1'>
            <span ng-hide='ctrl.is_submitting' class='uppercase'>next</span>
          </button>
        </div>
      </md-tab-body>
    </md-tab>

    <md-tab>
      <md-tab-body>
        <div class='md-content-submit select-product-wrapper b-t adding-product-wrapper' flex>
          <div class='md-list-item'>
            <div class='md-list-item-content text-center'>
              <h4 translate='settings.products.what_time'
                  translate-values='{ name: ctrl.item.name }'></h4>
            </div>
          </div>
          <div class='wrapper'>
            <div class='clearfix'>

              <table class='table no-margin head-table'>
                <col width='33%'>
                <col width='33%'>
                <col width='34%'>
                <thead>
                  <th></th>
                  <th class="eleven-o-clock"><div>11:00</div></th>
                  <th class="twenty-four-o-clock2"><div>23:45</div></th>
                </thead>
                <tr ng-repeat="slider in ctrl.sliders track by $index">
                  <td>{{ slider.name | translate }}</td>
                  <td colspan="2">
                     <rzslider
                      rz-slider-model="ctrl.sliders[$index].slider.minValue"
                      rz-slider-high="ctrl.sliders[$index].slider.maxValue"
                      rz-slider-options="ctrl.sliderOptions"
                    ></rzslider>
                  </td>
                </tr>
              </table>

            </div>
          </div>
          <button class='btn btn-lg btn-success text-success no-top-radius md-content-button'
                  ng-class="{ 'disabled': !ctrl.item.name || ctrl.is_submitting }"
                  ng-click='ctrl.submitForm();'
                  ng-disabled="ctrl.is_submitting"
                  translate='complete'>
          </button>
        </div>
      </md-tab-body>
    </md-tab>
  </md-content>
</section>