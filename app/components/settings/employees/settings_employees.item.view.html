<section class='no-margin'>
  <md-toolbar>
    <div class='md-toolbar-tools'>
      <h2 md-truncate flex translate='settings.employees.add'></h2>
      <md-button class="md-icon-button" ng-click='ctrl.closeModal();' md-no-ink>
        <i class='mdi mdi-close m-r-sm i-24'></i>
      </md-button>
    </div>
  </md-toolbar>
  <md-content>
    <div class='wrapper md-content-submit' layout='column' layout-align='space-around center'>
      <div class='w-xl'>
        <form name='employee_form' ng-submit='ctrl.submitForm();'>
          <div class='wrapper'>
            <div ng-if='!ctrl.item.id'>
              <md-input-container class='md-block' ng-class="{ 'md-input-invalid': ctrl.errors.children.first_name.errors }">
                <label translate='name'></label>
                <input name='first_name' ng-model='ctrl.item.first_name' required />
                <div ng-messages='employee_form.first_name.$error'>
                  <div ng-message='required' translate='notifications.is_required'></div>
                </div>
                <div ng-messages='employee_form.first_name.$error'
                     ng-show='ctrl.errors.children.first_name.errors'>
                  <div ng-repeat='error in ctrl.errors.children.first_name.errors'>{{ error }}</div>
                </div>
              </md-input-container>
              <md-input-container class='md-block' ng-class="{ 'md-input-invalid': ctrl.errors.children.last_name.errors }">
                <label translate='last_name'></label>
                <input name='last_name' ng-model='ctrl.item.last_name' required />
                <div ng-messages='employee_form.last_name.$error'>
                  <div ng-message='required' translate='notifications.is_required'></div>
                </div>
                <div ng-messages='employee_form.last_name.$error'
                     ng-show='ctrl.errors.children.last_name.errors'>
                  <div ng-repeat='error in ctrl.errors.children.last_name.errors'>{{ error }}</div>
                </div>
              </md-input-container>
              <md-input-container class='md-block' ng-class="{ 'md-input-invalid': ctrl.errors.children.email.errors }">
                <label translate='email'></label>
                <input type='email' name='email' ng-model='ctrl.item.email' required />
                <div ng-messages='employee_form.email.$error'>
                  <div ng-message='required' translate='notifications.is_required'></div>
                </div>
                <div ng-messages='employee_form.email.$error'
                     ng-show='ctrl.errors.children.email.errors'>
                  <div ng-repeat='error in ctrl.errors.children.email.errors'>{{ error }}</div>
                </div>
              </md-input-container>
            </div>
            <div class='md-form-group'>
              <md-input-container class='no-margin p-t-none'>
                <label translate='role'></label>
                <md-select class='pull-left'
                           name='name'
                           ng-model='ctrl.item.name'>
                  <md-option value='waiter' translate='settings.employees.rights_list.waiter'></md-option>
                  <md-option value='restaurant_manager' translate='settings.employees.rights_list.restaurant_manager'></md-option>
                  <md-option value='backoffice_manager' translate='settings.employees.rights_list.backoffice_manager'></md-option>
                  <md-option value='owner' translate='settings.employees.rights_list.owner'></md-option>
                </md-select>
              </md-input-container>
            </div>
            <p ng-if='ctrl.item.id'>
              <span class='text-danger uppercase'
                    ng-click='ctrl.showConfirm();'
                    translate='settings.employees.remove'></span></p>
          </div>
        </form>
      </div>
      <button type='button'
            ng-class="{ 'disabled': !employee_form.$valid || ctrl.is_submitting }"
            ng-click='ctrl.submitForm();'
            class='btn btn-lg btn-success text-success w-full no-top-radius md-content-button'
            translate='save'></button>
    </div>
  </md-content>
</section>
